<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
	<head>
		<title>Lilith 8.0.0 Release Notes</title>
		<link href="help.css" rel="stylesheet" type="text/css"/>
	</head>
	<body>
		<h1>Lilith 8.0.0</h1>
		
		<div>
			<a class="download" href="http://sourceforge.net/projects/lilith/files/lilith/8.0.0">Download Now!
		<br />(Released: 2015-11-15)</a>
		</div>
		
		<p>This version of Lilith requires Java 8 update 66 or higher and will says so if you try to start it with an older version.</p>
		<p>You can still receive event from previous versions so if your application is still running Java 7 or lower just keep using the 0.9.44 artifacts.<br />
		Keep in mind that <a href="http://www.oracle.com/technetwork/java/eol-135779.html">Java SE 7 End of Public Updates</a> has already been reached.</p>
		<p>It contains an important security fix related to deserialization and lots of small usability enhancements.</p>
		
		<h2>Changelog</h2>
		
		<h3>Added</h3>
		
		<ul>
			<li>
				<code>CHANGELOG.md</code> in the spirit of <a href="http://keepachangelog.com/">Keep a CHANGELOG</a>.</li>
			<li>Rough <code>TODO.md</code> listing some things that should be done.</li>
			<li>Error dialog if Lilith is started with Java prior to <code>1.8.0_66</code>.</li>
			<li>Added "Clear view" shortcut Cmd-K. K for clear.</li>
			<li>Added lilith.version.bundle to system properties.</li>
			<li>Displaying release notes of "newzest version" if already available.</li>
			<li>Option to ignore the secondary identifier of event sources, ignoring by default.</li>
		</ul>
		
		<h3>Changed</h3>
		
		<ul>
			<li>Requires Java 8.</li>
			<li>left-aligned most table cells.</li>
			<li>Better view icons in <code>Window</code> menu. They now represent the state of the view, e.g. whether the connection is still alive and if a window of the view is already open.</li>
			<li>Using <code>EventQueue</code> instead of <code>SwingUtilities</code>.</li>
			<li>Using <code>java.time.format</code> instead of <code>SimpleDateFormat</code> or <code>joda-time</code>.</li>
			<li>Renamed "Previous tab" to "Previous view" and "Next tab" to "Next view".</li>
			<li>Changed "Next view" shortcut from Cmd-K to Cmd-J and "Previous view" shortcut from Cmd-J to Cmd-shift-J.</li>
			<li>Switched "Next view" and "Previous view" in "View" menu.</li>
			<li>Better error message in case of broken detailsView.</li>
			<li>
				<code>SimpleSendBytesService.DEFAULT_POLL_INTERVALL</code> renamed to <code>SimpleSendBytesService.DEFAULT_POLL_INTERVAL</code>.</li>
			<li>Removed <code>BufferedOutputStream</code> wrapper in <code>SocketDataOutputStreamFactory</code>. <code>BufferedOutputStream</code> prevented <code>TimeoutOutputStream</code> from working reliably.</li>
			<li>
				<code>reconnectionDelay</code> in multiplex appenders is now <code>long</code> instead of <code>int</code>.</li>
			<li>Using Groovy for Lilith logging configuration.</li>
			<li>Recompressed images with latest <a href="https://imageoptim.com/">ImageOptim</a> version.</li>
			<li>Better app icon on Mac. Thanks to Christian Balog!</li>
			<li>Tried to ensure that license dialog is always visible.</li>
			<li>Changed default of <code>Show primary identifier even for named sources.</code> preferences to <code>false</code>.</li>
			<li>Enhanced <code>Open inactive log...</code> dialog.</li>
		</ul>
		
		<h3>Deprecated</h3>
		
		<ul>
			<li>Nothing.</li>
		</ul>
		
		<h3>Removed</h3>
		
		<ul>
			<li>Some <code>HttpStatus</code> enum values have been renamed. Code explicitly using them would need to be changed.</li>
			<li>
				<code>TroubleshootingPanel.reset(ViewContainer&lt;?&gt; container)</code>
			</li>
			<li>joda-time dependency.</li>
			<li>stax-api and stax dependencies.</li>
		</ul>
		
		<h3>Fixed</h3>
		
		<ul>
			<li>Updated <code>HttpStatus</code> enum to <a href="https://tools.ietf.org/html/rfc7231">RFC 7231</a>, <a href="https://tools.ietf.org/html/rfc7232">RFC 7232</a>, <a href="https://tools.ietf.org/html/rfc7233">RFC 7233</a>, <a href="https://tools.ietf.org/html/rfc7235">RFC 7235</a> and <a href="https://tools.ietf.org/html/rfc7238">RFC 7238</a>. Some enum values have been renamed in the process.</li>
			<li>sulky <code>SafeString</code> is now always printing a <code>Date</code> as an ISO8601-DateTime with timezone UTC.</li>
			<li>Using "127.0.0.1" instead of "localhost" in <code>SerializingGoToSource</code> to prevent IPv6 SNAFU.</li>
			<li>Conditions-Focus/Exclude menu of detached windows are now updated on saved condition change.</li>
			<li>Preventing useless focus traversal warnings in EventWrapperViewPanel and FindPanel.</li>
			<li>Reduced log level of broken stream message in event producers.</li>
			<li>Fixed initialization of "Attach/Detach" action.</li>
			<li>Fixed statistics in case of Java != 1.6</li>
			<li>Fixed "Focus" and "Exclude" menu tooltips on Mac. Those displayed HTML source if system menu bar was used.</li>
			<li>Fixed <a href="http://groovy-lang.org/">Groovy</a> links in help.</li>
			<li>SLF4J 1.7.13, Logback 1.1.3, Spring 4.2.2, Groovy 2.4.5, commons-codec 1.9, commons-lang3 3.4, httpclient 4.5.1, httpcore 4.4.4, jackson 2.6.3, log4j2 2.4.1, aspectj 1.8.7, Thymeleaf 2.1.4, substance 7.3, protobuf 2.6.1, jcommander 1.48, glazedlists 1.9.1, servlet-api 3.1.0, flying-saucer 9.0.6, cglib 3.1, rrd4j 2.2.1 </li>
		</ul>
		
		<h3>Security</h3>
		
		<ul>
			<li>Keep your Java version up-to-date. Lilith now demands the latest Java version.</li>
			<li>Implemented whitelisting of classes allowed for deserialization to circumvent issues described in <a href="http://frohoff.github.io/appseccali-marshalling-pickles/">AppSecCali 2015: Marshalling Pickles - how deserializing objects will ruin your day</a>.
				<ul>
					<li>
						<a href="https://blogs.apache.org/foundation/entry/apache_commons_statement_to_widespread">Apache Commons statement to widespread Java object de-serialisation vulnerability</a>
					</li>
					<li>
						<a href="http://foxglovesecurity.com/2015/11/06/what-do-weblogic-websphere-jboss-jenkins-opennms-and-your-application-have-in-common-this-vulnerability/">What Do WebLogic, WebSphere, JBoss, Jenkins, OpenNMS, and Your Application Have in Common? This Vulnerability.</a>
					</li>
					<li>
						<a href="http://www.ibm.com/developerworks/library/se-lookahead/">Look-ahead Java deserialization</a>
					</li>
				</ul>
			</li>
		</ul>
		
		
		<h2>Known Issues</h2>
		<ul>
			<li>Garbled icons on Mac OS X 10.11. This is a bug in OS X. Supposedly #23164356.<br/>
			The following text is written to stdout if this bug bites:
				<pre>
filter:2:47: error: excess elements in vector initializer
  return img.a * mix(c0, c1, dot(img.rgb, vec3(0,000000e+00, 0,000000e+00, 0,000000e+00)));
                                              ^                ~~~~~~~~~~
filter:1:6: error: non-void function should return a value
vec4 _falseColor(vec4 img, vec4 c0, vec4 c1) {
     ^</pre>
				<ul>
					<li><a href="https://trac.filezilla-project.org/ticket/10669">Filezilla ticket</a></li>
					<li><a href="https://bugs.eclipse.org/bugs/show_bug.cgi?id=479590">Eclipse ticket</a></li>
				</ul>
			</li>
			<li>Flying Saucer related issues:
				<ul>
					<li>Selection in the HTML view is currently somewhat buggy, especially in case of scaled view.
						<br />See <a href="http://code.google.com/p/flying-saucer/issues/detail?id=79">Issue 79: SelectionHighlighter not compatible with ScalableXHTMLPanel</a>
					</li>
					
					<li>The first line of the message in HTML view is not properly indented if it starts with whitespace. You can see this effect by examining the event created by LogPinupLargeRunnable (executed via "Log ASCII"). The HTML created is actually correct.
						<br />See <a href="http://code.google.com/p/flying-saucer/issues/detail?id=125">Issue 125: &lt;pre&gt; ignores leading whitespace</a>
					</li>
					
					<li>Jumping to anchors is currently not supported so the navigation in help and details view isn't as good as it could be.
						<br />See <a href="http://code.google.com/p/flying-saucer/issues/detail?id=105">Issue 105: URLs with anchors</a>
					</li>
				</ul>
			</li>
			<li>Lilith may hang during startup while creating the preferences dialog. Just restart Lilith in that rare case.<br />
				This is caused by <a href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6995182">bug #6995182</a>
				and I can't do anything about it.<br />
				Sorry about it. It's a stupid Java-MediaTracker-ColorChooser-Bug with no workaround available.<br />
				m(
			</li>
		</ul>
		
		<h2>Attention</h2>
		<p>This release changes detailsView.groovy in a way incompatible with previous versions!</p>
		<p>If you switch back to a previous version, you must reset this file. Simply execute
		"Preferences" =&gt; "Troubleshooting" =&gt; "Reinitialize details view files." in that case.</p>
		
		<h2>Previous Versions</h2>
		<ul>
			<li>
				<a href="http://lilithapp.com/releases/0.9.44.xhtml">0.9.44</a>
			</li>
			<li>
				<a href="http://lilithapp.com/releases/0.9.43.xhtml">0.9.43</a>
			</li>
			<li>
				<a href="http://lilithapp.com/releases/0.9.42.1.xhtml">0.9.42.1</a>
			</li>
			<li>
				<a href="http://lilithapp.com/releases/0.9.42.xhtml">0.9.42</a>
			</li>
			<li>
				<a href="http://lilithapp.com/releases/0.9.41.xhtml">0.9.41</a>
			</li>
			<li>
				<a href="http://lilithapp.com/releases/0.9.40.xhtml">0.9.40</a>
			</li>
			<li>
				<a href="http://lilithapp.com/releases/0.9.39.xhtml">0.9.39</a>
			</li>
			<li>
				<a href="http://lilithapp.com/releases/0.9.38.xhtml">0.9.38</a>
			</li>
			<li>
				<a href="http://lilithapp.com/releases/0.9.37.xhtml">0.9.37</a>
			</li>
			<li>
				<a href="http://lilithapp.com/releases/0.9.36.xhtml">0.9.36</a>
			</li>
		</ul>
		
		<hr/>
		<p>
		Donate in <a href="bitcoin:19UjvmrDJMBcGDYQoFcrjYPqLRFPSwznZn">Bitcoin</a>. - 19UjvmrDJMBcGDYQoFcrjYPqLRFPSwznZn<br/>
		Donate in <a href="litecoin:LU6WM3nmGJy3N5PEE8yQwsAyenJs8dtbmV">Litecoin</a>. - LU6WM3nmGJy3N5PEE8yQwsAyenJs8dtbmV<br/>
		Donate in <a href="dogecoin:DJC1R683hfD4VSEDAJrvNpv6GsCg8ewvhm">Dogecoin</a>. - DJC1R683hfD4VSEDAJrvNpv6GsCg8ewvhm
		</p>
	</body>
</html>
